(this["webpackJsonpmy-ts-react-app"]=this["webpackJsonpmy-ts-react-app"]||[]).push([[1],{11:function(e,t,a){e.exports=a(24)},22:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),s=a.n(c),o=a(2),l=(a(22),a(9)),i=a(10),u=a(4),p={episodes:[],favorites:[]},d=Object(n.createContext)(p);function m(e,t){switch(t.type){case"FETCH_DATA":return Object(u.a)({},e,{episodes:t.payload});case"ADD_FAV":return Object(u.a)({},e,{favorites:[].concat(Object(i.a)(e.favorites),[t.payload])});case"REMOVE_FAV":return Object(u.a)({},e,{favorites:e.favorites.filter((function(e){return e.id!==t.payload.id}))});default:return e}}var f=function(e){var t=Object(n.useContext)(d).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rick and Morty"),r.a.createElement("p",null,"Pick your favorite episode!!!")),r.a.createElement("div",null,r.a.createElement(o.a,{to:"/"},"Home"),r.a.createElement(o.a,{to:"/faves"},"Favorite(s): ",t.favorites.length))),e.children)},v=a(3),E=a.n(v),h=function(e,t,a){return a({type:t.map((function(e){return e.id})).includes(e.id)?"REMOVE_FAV":"ADD_FAV",payload:e})},b=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,25))})),y=function(){var e=Object(n.useContext)(d),t=e.state,a=e.dispatch;Object(n.useEffect)((function(){0===t.episodes.length&&function(e){var t,a;E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",n.next=3,E.a.awrap(fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes"));case 3:return t=n.sent,n.next=6,E.a.awrap(t.json());case 6:return a=n.sent,n.abrupt("return",e({type:"FETCH_DATA",payload:a._embedded.episodes}));case 8:case"end":return n.stop()}}))}(a)}));var c={episodes:t.episodes,toggleFavAction:h,favorites:t.favorites,dispatch:a};return r.a.createElement(n.Suspense,{fallback:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"LOADING..."))},r.a.createElement(b,c))},O=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,25))})),g=function(){var e=Object(n.useContext)(d),t=e.state,a=e.dispatch,c={episodes:t.favorites,toggleFavAction:h,favorites:t.favorites,dispatch:a};return r.a.createElement(n.Suspense,{fallback:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"LOADING..."))},r.a.createElement(O,c))},j=function(e){return e.pageComponent};s.a.render(r.a.createElement((function(e){var t=Object(n.useReducer)(m,p),a=Object(l.a)(t,2),c=a[0],s=a[1];return r.a.createElement(d.Provider,{value:{state:c,dispatch:s}},e.children)}),null,r.a.createElement(o.b,null,r.a.createElement(f,{path:"/"},r.a.createElement(j,{pageComponent:r.a.createElement(y,null),path:"/"}),r.a.createElement(j,{pageComponent:r.a.createElement(g,null),path:"/faves"})))),document.getElementById("root"))}},[[11,2,3]]]);
//# sourceMappingURL=main.94cf6966.chunk.js.map